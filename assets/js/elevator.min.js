var Elevator=function(n){"use strict";function o(n,o,t,e){return(n/=e/2)<1?t/2*n*n+o:(n--,-t/2*(n*(n-2)-1)+o)}function t(n,o){for(var t in o){void 0===n[t]&&"function"!=typeof t&&(n[t]=o[t])}return n}function e(n){for(var o=0;n;)o+=n.offsetTop||0,n=n.offsetParent;return h&&(o-=h),o}function l(n){k||(k=n);var t=n-k,e=y,i=-1;A?t<E*b?i=o(t,-52,51,E*b):t<(1-E)*b?e=o(t-E*b,y,C-y,b*(1-2*E)):(e=C,i=o(t-(1-E)*b,-1,-51,E*b)):e=o(t,y,C-y,b),window.scrollTo(0,e),A&&(A[0].style.left=i+"vw",A[1].style.right=i+"vw"),t<b?w=requestAnimationFrame(l):a()}function i(){return window.requestAnimationFrame&&window.Audio&&window.addEventListener}function u(){k=null,y=null,F=!1}function r(){g&&(C=e(g))}function a(){u(),m&&(m.pause(),m.currentTime=0),f&&f.play(),p&&p()}function d(){F&&(cancelAnimationFrame(w),u(),m&&(m.pause(),m.currentTime=0),r(),window.scrollTo(0,C))}function c(n){n.addEventListener?n.addEventListener("click",L.elevate,!1):n.attachEvent("onclick",function(){r(),document.documentElement.scrollTop=C,document.body.scrollTop=C,window.scroll(0,C)})}var s,m,f,p,v=null,A=null,w=null,b=null,E=null,T=!1,k=null,y=null,C=0,g=null,h=null,F=!1,L=this;this.elevate=function(){F||(F=!0,y=document.documentElement.scrollTop||v.scrollTop,r(),T||(b=1.5*Math.abs(C-y)+1e3,E=500/b),requestAnimationFrame(l),m&&m.play(),s&&s())},function(n){i()&&(v=document.body,n=t(n,{duration:void 0,doorsDurationRatio:.1,mainAudio:!1,endAudio:!1,preloadAudio:!0,loopAudio:!0,startCallback:null,endCallback:null}),n.element&&c(n.element),n.doors&&(A=n.doors),n.doorsDurationRatio&&(E=n.doorsDurationRatio),n.duration&&(T=!0,b=n.duration),n.targetElement&&(g=n.targetElement),n.verticalPadding&&(h=n.verticalPadding),window.addEventListener("blur",d,!1),n.mainAudio&&(m=new Audio(n.mainAudio),m.setAttribute("preload",n.preloadAudio),m.setAttribute("loop",n.loopAudio)),n.endAudio&&(f=new Audio(n.endAudio),f.setAttribute("preload","true")),n.endCallback&&(p=n.endCallback),n.startCallback&&(s=n.startCallback))}(n)};"undefined"!=typeof module&&module.exports&&(module.exports=Elevator);